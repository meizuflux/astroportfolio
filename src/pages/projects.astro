---
import BaseLayout from "../layouts/BaseLayout.astro"

const projects = {
    "websites": [
        {
            "name": "meizuflux.com",
            "url": "https://meizuflux.com",
            "repo": "https://github.com/meizuflux/astroportfolio",
            "stack": [["Astro", "https://astro.build"], ["SakuraCSS", "https://github.com/oxalorg/sakura"], ["GraphCMS", "https://graphcms.com"], ["Cloudflare Pages", "https://pages.cloudflare.com"]],
            "description": "This is the website that you are currently on. I use this site as a blog, portfolio, and place to experiment with new technology."
        },
        {
            "name": "mzf.one",
            "url": "https://mzf.one",
            "repo": "https://github.com/meizuflux/private-destination",
            "stack": [["Aiohttp", "https://docs.aiohttp.org/en/stable/web.html"], ["Bulma", "https://bulma.io"], ["PostgreSQL", "https://www.postgresql.org"], ["Jinja", "https://jinja.palletsprojects.com"]],
            "description": "A private, closed place where I can run my own versions of whatever I want. It currently has authorization, a url shortner, and a tiny admin panel. This is probably my best project to date. If you want access please click the login button, then contact me on Discord."
        }
    ],
    "others": [
        {
            "name": "FastAPI Example",
            "url": null,
            "repo": "https://github.com/meizuflux/simple-fastapi",
            "stack": [["FastAPI", "https://fastapi.tiangolo.com"]],
            "description": "This is a simple FastAPI example project that showcases the many documentation features FastAPI offers."
        }
    ]
}
---
<BaseLayout title="Projects" description="Various projects that I (meizuflux) have worked on.">
    <h1 style="text-align: center">my projects</h1>
    <p>Various projects and things that I've made. They're most likely on my <a href="https://github.com/meizuflux">GitHub</a>.</p>

    {Object.keys(projects).map(key => (
        <h2>{key}</h2>
        <ul>
            {projects[key].map(p => (
                <li>
                    {p.url ? <a href={p.url}>{p.name}</a> : p.name} [{p.repo ? <a href={p.repo}>Repo</a> : "Private"}] 
                    ({p.stack.map(s => <a href={s[1]}>{s[0]}</a>).reduce((acc, x) => acc === null ? x : <>{acc}, {x}</>, null)})
                    <br />{p.description}
                </li>
            ))}
        </ul>
    ))}
</BaseLayout>